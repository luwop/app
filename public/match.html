<!DOCTYPE html>
<html>
<head>
    <title>Clash Royale – Submit Match</title>
    <link rel="stylesheet" href="elegant-aero.css" />

    <style>
        html, body {
            height: 100%;
            margin: 0;
            overflow: hidden;
        }

        body {
            background-image: url("clash.jpg");
            background-size: cover;
            background-position: center;
            font-family: Arial, sans-serif;

            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
        }

        .container {
            width: 850px;
            background: rgba(255,255,255,0.92);
            padding: 25px;
            border-radius: 15px;
            margin: auto;
            box-shadow: 0 8px 20px rgba(0,0,0,0.4);
        }

        h2 {
            text-align: center;
            margin-bottom: 20px;
        }

        /* Matches / Wins side-by-side */
        .two-col {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 20px;
        }

        .two-col input[type="number"] {
            width: 100%;
            padding: 8px;
            border-radius: 6px;
            border: 1px solid #aaa;
        }

        .two-col label {
            display: block;
            margin-bottom: 6px;
            font-weight: bold;
        }

        /* Deck card selects */
        .row {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            margin-bottom: 15px;
        }

        select {
            width: 100%;
            padding: 8px;
            border-radius: 6px;
            border: 1px solid #aaa;
        }

        button {
            width: 100%;
            padding: 14px;
            margin-top: 20px;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            background: #0066ff;
            color: white;
            cursor: pointer;
        }

        button:hover {
            background: #0044cc;
        }
    </style>
</head>

<body>

<div class="container elegant-aero">
    <h2>Submit Clash Royale Match</h2>

    <form action="/submit-match" method="GET">

        <!-- ⭐ MATCH STATS SIDE BY SIDE -->
        <div class="two-col">
            <div>
                <label>Total Matches Played:</label>
                <input type="number" name="matches" min="1" required>
            </div>

            <div>
                <label>Total Wins:</label>
                <input type="number" name="wins" min="0" required>
            </div>
        </div>

        <hr>

        <!-- PLAYER DECK -->
        <h3>Your Deck (8 cards)</h3>
        <div class="row">
            <select name="player1" class="playerCard"></select>
            <select name="player2" class="playerCard"></select>
            <select name="player3" class="playerCard"></select>
            <select name="player4" class="playerCard"></select>
        </div>
        <div class="row">
            <select name="player5" class="playerCard"></select>
            <select name="player6" class="playerCard"></select>
            <select name="player7" class="playerCard"></select>
            <select name="player8" class="playerCard"></select>
        </div>

        <hr>

        <!-- OPPONENT DECK -->
        <h3>Opponent Deck (8 cards)</h3>
        <div class="row">
            <select name="opp1" class="oppCard"></select>
            <select name="opp2" class="oppCard"></select>
            <select name="opp3" class="oppCard"></select>
            <select name="opp4" class="oppCard"></select>
        </div>
        <div class="row">
            <select name="opp5" class="oppCard"></select>
            <select name="opp6" class="oppCard"></select>
            <select name="opp7" class="oppCard"></select>
            <select name="opp8" class="oppCard"></select>
        </div>

        <button type="submit">Submit Match</button>

    </form>
</div>


<!-- ⭐ ONLY ONE COPY OF THE FULL CARD LIST -->
<template id="card-options">
    <option value="">-- Select Card --</option>

    <option value="26000000">Knight</option>
    <option value="26000001">Archers</option>
    <option value="26000002">Goblins</option>
    <option value="26000003">Giant</option>
    <option value="26000004">P.E.K.K.A</option>
    <option value="26000005">Minions</option>
    <option value="26000006">Balloon</option>
    <option value="26000007">Witch</option>
    <option value="26000008">Barbarians</option>
    <option value="26000009">Golem</option>
    <option value="26000010">Skeletons</option>
    <option value="26000011">Valkyrie</option>
    <option value="26000012">Skeleton Army</option>
    <option value="26000013">Bomber</option>
    <option value="26000014">Musketeer</option>
    <option value="26000015">Baby Dragon</option>
    <option value="26000016">Prince</option>
    <option value="26000017">Wizard</option>
    <option value="26000018">Mini P.E.K.K.A</option>
    <option value="26000019">Spear Goblins</option>
    <option value="26000020">Giant Skeleton</option>
    <option value="26000021">Hog Rider</option>
    <option value="26000022">Minion Horde</option>
    <option value="26000023">Ice Wizard</option>
    <option value="26000024">Royal Giant</option>
    <option value="26000025">Guards</option>
    <option value="26000026">Princess</option>
    <option value="26000027">Dark Prince</option>
    <option value="26000028">Three Musketeers</option>
    <option value="26000029">Lava Hound</option>
    <option value="26000030">Ice Spirit</option>
    <option value="26000031">Fire Spirits</option>
    <option value="26000032">Miner</option>
    <option value="26000033">Sparky</option>
    <option value="26000034">Bowler</option>
    <option value="26000035">Lumberjack</option>
    <option value="26000036">Battle Ram</option>
    <option value="26000037">Inferno Dragon</option>
    <option value="26000038">Ice Golem</option>
    <option value="26000039">Mega Minion</option>
    <option value="26000040">Dart Goblin</option>
    <option value="26000041">Goblin Gang</option>
    <option value="26000042">Electro Wizard</option>
    <option value="26000043">Elite Barbarians</option>
    <option value="26000044">Hunter</option>
    <option value="26000045">Executioner</option>
    <option value="26000046">Bandit</option>
    <option value="26000047">Royal Recruits</option>
    <option value="26000048">Night Witch</option>
    <option value="26000049">Bats</option>
    <option value="26000050">Royal Ghost</option>
    <option value="26000051">Ram Rider</option>
    <option value="26000052">Zappies</option>
    <option value="26000053">Rascals</option>
    <option value="26000054">Cannon Cart</option>
    <option value="26000055">Mega Knight</option>
    <option value="26000056">Skeleton Barrel</option>
    <option value="26000057">Flying Machine</option>
    <option value="26000058">Wall Breakers</option>
    <option value="26000059">Royal Hogs</option>
    <option value="26000060">Goblin Giant</option>
    <option value="26000061">Fisherman</option>
    <option value="26000062">Magic Archer</option>
    <option value="26000063">Electro Dragon</option>
    <option value="26000064">Firecracker</option>
    <option value="26000065">Elixir Golem</option>
    <option value="26000066">Battle Healer</option>
    <option value="26000067">Skeleton Dragons</option>
    <option value="26000068">Mother Witch</option>
    <option value="26000069">Electro Spirit</option>
    <option value="26000070">Electro Giant</option>
    <option value="26000071">Golden Knight</option>
    <option value="26000072">Archer Queen</option>
    <option value="26000073">Skeleton King</option>
    <option value="26000074">Mighty Miner</option>
    <option value="26000075">Monk</option>
    <option value="26000076">Phoenix</option>
    <option value="26000077">Little Prince</option>
    <option value="26000078">Goblin Shaman</option>

    <option value="27000000">Cannon</option>
    <option value="27000001">Goblin Hut</option>
    <option value="27000002">Mortar</option>
    <option value="27000003">Inferno Tower</option>
    <option value="27000004">Bomb Tower</option>
    <option value="27000005">Barbarian Hut</option>
    <option value="27000006">Tesla</option>
    <option value="27000007">Elixir Collector</option>
    <option value="27000008">X-Bow</option>
    <option value="27000009">Tombstone</option>
    <option value="27000010">Furnace</option>
    <option value="27000011">Goblin Cage</option>

    <option value="28000000">Fireball</option>
    <option value="28000001">Arrows</option>
    <option value="28000002">Rage</option>
    <option value="28000003">Rocket</option>
    <option value="28000004">Goblin Barrel</option>
    <option value="28000005">Freeze</option>
    <option value="28000006">Mirror</option>
    <option value="28000007">Lightning</option>
    <option value="28000008">Zap</option>
    <option value="28000009">Poison</option>
    <option value="28000010">Graveyard</option>
    <option value="28000011">The Log</option>
    <option value="28000012">Tornado</option>
    <option value="28000013">Clone</option>
    <option value="28000014">Earthquake</option>
    <option value="28000015">Barbarian Barrel</option>
    <option value="28000016">Heal Spirit</option>
    <option value="28000017">Giant Snowball</option>
    <option value="28000018">Royal Delivery</option>
</template>


<script>
    document.querySelector("form").addEventListener("submit", function (e) {

        const matches = Number(document.querySelector("input[name='matches']").value);
        const wins = Number(document.querySelector("input[name='wins']").value);

        if (matches < 0 || wins < 0) {
            alert("Matches and wins cannot be negative.");
            e.preventDefault();
            return false;
        }

        if (matches === 0) {
            alert("Total matches must be greater than zero.");
            e.preventDefault();
            return false;
        }

        if (wins > matches) {
            alert("Wins cannot be greater than matches.");
            e.preventDefault();
            return false;
        }

        const selects = Array.from(document.querySelectorAll("select"));
        const missing = selects.some(sel => sel.value === "" || sel.value === "0");

        if (missing) {
            alert("All 16 card slots must be filled before submitting the match.");
            e.preventDefault();
            return false;
        }

    });

    const url = new URL(window.location.href);
    if (url.searchParams.get("success") === "1") {
        alert("Match successfully submitted!");
    }
</script>

</body>
</html>
